pipeline{
    agent any   // don't have any ec2 instance so run it in any
    stages{
        stage('build'){
            steps{
                bat 'echo Dev branch version v1.1'
		bat 'javac Demo.java'
		bat 'java Demo.java'
            }
        }
    }
     post {
	success {
	    echo 'Pipeline completed successfully!'
	    emailext (
		subject: "Build Successful: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
                body: "Good news! The build was successful. Check console output at ${env.BUILD_URL}.",
                recipientProviders: [[$class: 'CulpritsRecipientProvider'], [$class: 'RequesterRecipientProvider']],
		to: 'arvindrana620445@gmail.com'
	    )
	}
	failure {
		echo 'Build failed!'
		subject: "Build Failed: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
		body: "Unfortunately, the build has failed. Check console output at ${env.BUILD_URL}.",
		recipientProviders: [[$class: 'CulpritsRecipientProvider'], [$class: 'RequesterRecipientProvider']],
		to: 'arvindrana620445@gmail.com'
	}
    }
}
